<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Updates - Professional News Platform</title>
    <link rel="icon" href="image-2.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- ULTRA-SECURE HEADERS -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; img-src 'self' https: data: blob:; font-src 'self' https://fonts.gstatic.com; connect-src 'self' https://backend-ml60.onrender.com https://*.onrender.com; frame-ancestors 'none'; base-uri 'self'; form-action 'self'; upgrade-insecure-requests">
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="X-Frame-Options" content="DENY">
    <meta http-equiv="X-XSS-Protection" content="1; mode=block">
    <meta name="referrer" content="no-referrer">
    <meta http-equiv="Permissions-Policy" content="geolocation=(), microphone=(), camera=()">

    <style>
        :root {
            --bg-color: #f8f9fa;
            --card-bg: #ffffff;
            --text-primary: #1a1a1a;
            --text-secondary: #4a4a4a;
            --text-meta: #888888;
            --header-gradient-1: #3b82f6;
            --header-gradient-2: #2563eb;
            --border-color: #e5e7eb;
            --accent-color: #3b82f6;
            --shadow-sm: 0 1px 3px rgba(0,0,0,0.08);
            --shadow-md: 0 4px 12px rgba(0,0,0,0.10);
            --shadow-lg: 0 10px 30px rgba(0,0,0,0.15);
            --shimmer-color: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
        }

        [data-theme="dark"] {
            --bg-color: #0f0f0f;
            --card-bg: #1a1a1a;
            --text-primary: #f0f0f0;
            --text-secondary: #c0c0c0;
            --text-meta: #888888;
            --header-gradient-1: #1e3a8a;
            --header-gradient-2: #1e40af;
            --border-color: #2d2d2d;
            --accent-color: #60a5fa;
            --shadow-sm: 0 1px 3px rgba(0,0,0,0.3);
            --shadow-md: 0 4px 12px rgba(0,0,0,0.4);
            --shadow-lg: 0 10px 30px rgba(0,0,0,0.5);
            --shimmer-color: linear-gradient(90deg, #1a1a1a 25%, #2a2a2a 50%, #1a1a1a 75%);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Inter', Segoe UI, system-ui, -apple-system, sans-serif;
            background: var(--bg-color);
            padding-bottom: 60px;
            transition: background 0.35s cubic-bezier(0.4, 0, 0.2, 1);
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            user-select: none;
            -webkit-tap-highlight-color: transparent;
        }

        /* PROFESSIONAL LOADING SCREEN - YouTube Style */
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--bg-color);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            transition: opacity 0.5s ease, visibility 0.5s ease;
        }

        .loading-screen.hidden {
            opacity: 0;
            visibility: hidden;
        }

        .loading-logo {
            width: 80px;
            height: 80px;
            margin-bottom: 2rem;
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.7; transform: scale(1.05); }
        }

        .loading-spinner {
            width: 50px;
            height: 50px;
            border: 4px solid var(--border-color);
            border-top-color: var(--accent-color);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 1.5rem;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .loading-text {
            font-size: 1.1rem;
            color: var(--text-primary);
            font-weight: 600;
            margin-bottom: 0.5rem;
            animation: fadeInOut 2s ease-in-out infinite;
        }

        @keyframes fadeInOut {
            0%, 100% { opacity: 0.5; }
            50% { opacity: 1; }
        }

        .loading-subtext {
            font-size: 0.9rem;
            color: var(--text-meta);
            text-align: center;
            padding: 0 2rem;
        }

        .loading-progress {
            width: 200px;
            height: 4px;
            background: var(--border-color);
            border-radius: 2px;
            margin-top: 1.5rem;
            overflow: hidden;
            position: relative;
        }

        .loading-progress-bar {
            position: absolute;
            left: 0;
            top: 0;
            height: 100%;
            width: 30%;
            background: linear-gradient(90deg, var(--accent-color), var(--header-gradient-2));
            border-radius: 2px;
            animation: progressMove 1.5s ease-in-out infinite;
        }

        @keyframes progressMove {
            0% { left: -30%; }
            100% { left: 100%; }
        }

        /* Shimmer skeleton loader */
        .shimmer-wrapper {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            max-width: 700px;
            margin: 1.5rem auto;
            padding: 0 1rem;
        }

        .shimmer-card {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 1.2rem;
            box-shadow: var(--shadow-sm);
            border: 1px solid var(--border-color);
        }

        .shimmer {
            background: var(--shimmer-color);
            background-size: 200% 100%;
            animation: shimmer 1.5s infinite;
            border-radius: 8px;
        }

        @keyframes shimmer {
            0% { background-position: -200% 0; }
            100% { background-position: 200% 0; }
        }

        .shimmer-image {
            width: 100%;
            height: 200px;
            margin-bottom: 1rem;
        }

        .shimmer-title {
            height: 24px;
            width: 80%;
            margin-bottom: 0.8rem;
        }

        .shimmer-text {
            height: 16px;
            width: 100%;
            margin-bottom: 0.5rem;
        }

        .shimmer-text.short {
            width: 60%;
        }

        /* HEADER */
        header {
            background: linear-gradient(135deg, var(--header-gradient-1), var(--header-gradient-2));
            color: #fff;
            padding: 0.9rem 1rem;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: 0 2px 12px rgba(59, 130, 246, 0.25);
            position: sticky;
            top: 0;
            z-index: 100;
            backdrop-filter: blur(10px);
        }

        .header-left {
            display: flex;
            align-items: center;
        }

        .menu-btn {
            background: rgba(255,255,255,0.15);
            border: none;
            color: white;
            font-size: 1.4rem;
            cursor: pointer;
            padding: 0.5rem;
            margin-right: 0.6rem;
            border-radius: 8px;
            transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .menu-btn:hover {
            background: rgba(255,255,255,0.25);
            transform: scale(1.05);
        }

        .menu-btn:active {
            transform: scale(0.95);
        }

        .header-center {
            display: flex;
            align-items: center;
            flex: 1;
            justify-content: center;
        }

        .logo {
            height: 40px;
            width: 40px;
            margin-right: 10px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            pointer-events: none;
        }

        .logo:hover {
            transform: rotate(5deg) scale(1.05);
        }

        h1 {
            font-size: 1.75rem;
            font-weight: 700;
            text-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
            letter-spacing: -0.5px;
        }

        /* NEWS CARDS */
        .card-list {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            max-width: 700px;
            margin: 1.5rem auto;
            padding: 0 1rem;
        }

        .section-header {
            font-size: 1.4rem;
            font-weight: 800;
            color: var(--text-primary);
            margin: 2rem 0 1rem;
            padding-left: 0.5rem;
            border-left: 4px solid var(--accent-color);
            letter-spacing: -0.5px;
        }

        .section-badge {
            display: inline-block;
            background: linear-gradient(135deg, #ef4444, #dc2626);
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 700;
            margin-left: 0.8rem;
            vertical-align: middle;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            animation: badgePulse 2s infinite;
        }

        @keyframes badgePulse {
            0%, 100% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.7); }
            50% { box-shadow: 0 0 0 8px rgba(239, 68, 68, 0); }
        }

        .news-card {
            background: var(--card-bg);
            border-radius: 12px;
            box-shadow: var(--shadow-sm);
            padding: 1.2rem;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border: 1px solid var(--border-color);
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .news-card::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            height: 100%;
            width: 4px;
            background: var(--accent-color);
            transform: scaleY(0);
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .news-card:hover::before {
            transform: scaleY(1);
        }

        .news-card:hover {
            box-shadow: var(--shadow-md);
            transform: translateY(-3px);
            border-color: var(--accent-color);
        }

        .news-card:active {
            transform: translateY(-1px);
        }

        .news-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 10px;
            margin-bottom: 1rem;
            background: var(--border-color);
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .news-card:hover .news-image {
            transform: scale(1.02);
        }

        .news-title {
            font-size: 1.15rem;
            color: var(--text-primary);
            font-weight: 700;
            margin-bottom: 0.6rem;
            line-height: 1.4;
            letter-spacing: -0.3px;
        }

        .news-summary {
            font-size: 0.95rem;
            color: var(--text-secondary);
            margin-bottom: 0.6rem;
            line-height: 1.6;
        }

        .news-meta {
            font-size: 0.85rem;
            color: var(--text-meta);
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 0.6rem;
            border-top: 1px solid var(--border-color);
            margin-top: 0.6rem;
        }

        .category-tag {
            background: linear-gradient(135deg, var(--accent-color), var(--header-gradient-2));
            color: white;
            padding: 3px 10px;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: capitalize;
            letter-spacing: 0.3px;
        }

        /* SEARCH SECTION */
        .search-container {
            max-width: 700px;
            margin: 2rem auto;
            padding: 0 1rem;
        }

        .search-box {
            position: relative;
            background: var(--card-bg);
            border: 2px solid var(--border-color);
            border-radius: 16px;
            padding: 1rem 5rem 1rem 1.2rem;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .search-input {
            width: 100%;
            background: none;
            border: none;
            font-size: 1rem;
            color: var(--text-primary);
            outline: none;
            font-family: inherit;
        }

        .search-input::placeholder {
            color: var(--text-meta);
        }

        .search-btn {
            position: absolute;
            right: 1rem;
            top: 50%;
            transform: translateY(-50%);
            background: linear-gradient(135deg, var(--accent-color), var(--header-gradient-2));
            color: white;
            border: none;
            padding: 0.6rem 1.2rem;
            border-radius: 12px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .search-btn:hover {
            transform: translateY(-50%) scale(1.05);
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4);
        }

        /* REELS SECTION */
        .reels-container {
            position: relative;
            height: calc(100vh - 130px);
            overflow: hidden;
            max-width: 650px;
            margin: 0 auto;
            background: var(--bg-color);
            touch-action: pan-y;
        }

        .reel {
            position: absolute;
            width: 100%;
            height: 100%;
            background: var(--card-bg);
            display: flex;
            flex-direction: column;
            padding: 1.5rem;
            opacity: 0;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            transform: translateY(100%);
            overflow-y: auto;
            box-shadow: var(--shadow-md);
            border-radius: 16px 16px 0 0;
            text-decoration: none;
            color: inherit;
        }

        .reel.active {
            opacity: 1;
            transform: translateY(0);
            z-index: 2;
        }

        .reel-image {
            width: 100%;
            height: 220px;
            object-fit: cover;
            border-radius: 12px;
            margin-bottom: 1.2rem;
            background: var(--border-color);
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .reel:hover .reel-image {
            transform: scale(1.02);
        }

        .reel-title {
            font-size: 1.4rem;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 1rem;
            line-height: 1.35;
            letter-spacing: -0.5px;
        }

        .reel-content {
            font-size: 1.05rem;
            color: var(--text-secondary);
            line-height: 1.65;
            margin-bottom: 1rem;
            flex: 1;
        }

        .reel-meta {
            font-size: 0.9rem;
            color: var(--text-meta);
            padding-top: 1rem;
            border-top: 1px solid var(--border-color);
        }

        .reel-indicator {
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            display: flex;
            flex-direction: column;
            gap: 8px;
            z-index: 10;
        }

        .indicator-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--border-color);
            transition: all 0.3s ease;
        }

        .indicator-dot.active {
            background: var(--accent-color);
            height: 24px;
            border-radius: 4px;
        }

        /* UP ARROW BUTTON */
        .scroll-up-btn {
            position: fixed;
            bottom: 80px;
            right: 20px;
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--accent-color), var(--header-gradient-2));
            color: white;
            border: none;
            border-radius: 50%;
            font-size: 1.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(59, 130, 246, 0.4);
            opacity: 0;
            visibility: hidden;
            transform: scale(0.8);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 99;
        }

        .scroll-up-btn.visible {
            opacity: 1;
            visibility: visible;
            transform: scale(1);
        }

        .scroll-up-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(59, 130, 246, 0.6);
        }

        .scroll-up-btn:active {
            transform: scale(0.95);
        }

        /* BOTTOM NAVIGATION */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background: var(--card-bg);
            display: flex;
            justify-content: space-around;
            padding: 0.4rem 0;
            box-shadow: 0 -2px 15px rgba(0, 0, 0, 0.12);
            z-index: 100;
            border-top: 1px solid var(--border-color);
        }

        .nav-item {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 0.4rem;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            color: var(--text-meta);
            text-decoration: none;
            position: relative;
        }

        .nav-item:hover {
            transform: translateY(-2px);
        }

        .nav-item.active {
            color: var(--accent-color);
        }

        .nav-item.active::before {
            content: '';
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 30px;
            height: 3px;
            background: var(--accent-color);
            border-radius: 0 0 3px 3px;
            animation: slideDown 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        @keyframes slideDown {
            from { transform: translateX(-50%) translateY(-5px); opacity: 0; }
            to { transform: translateX(-50%) translateY(0); opacity: 1; }
        }

        .nav-icon {
            font-size: 1.3rem;
            margin-bottom: 0.15rem;
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .nav-item.active .nav-icon {
            transform: scale(1.1);
        }

        .nav-label {
            font-size: 0.7rem;
            font-weight: 500;
            letter-spacing: 0.3px;
        }

        /* PAGES */
        .page {
            display: none;
            animation: fadeIn 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .page.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* SIDEBAR */
        .sidebar {
            position: fixed;
            top: 0;
            left: -300px;
            width: 280px;
            height: 100%;
            background: var(--card-bg);
            box-shadow: 4px 0 20px rgba(0, 0, 0, 0.15);
            transition: left 0.35s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 1000;
            overflow-y: auto;
        }

        .sidebar.open {
            left: 0;
        }

        .sidebar-header {
            background: linear-gradient(135deg, var(--header-gradient-1), var(--header-gradient-2));
            color: white;
            padding: 1.5rem;
            font-size: 1.3rem;
            font-weight: 700;
            letter-spacing: -0.3px;
        }

        .sidebar-menu {
            list-style: none;
        }

        .sidebar-menu li {
            border-bottom: 1px solid var(--border-color);
            transition: background 0.2s ease;
        }

        .sidebar-menu a {
            display: block;
            padding: 1rem 1.5rem;
            color: var(--text-primary);
            text-decoration: none;
            transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
            font-weight: 500;
        }

        .sidebar-menu li:hover {
            background: var(--bg-color);
        }

        .sidebar-menu a:hover {
            padding-left: 1.8rem;
        }

        /* OVERLAY */
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: none;
            z-index: 999;
            backdrop-filter: blur(2px);
            transition: opacity 0.3s ease;
        }

        .overlay.active {
            display: block;
            animation: fadeInOverlay 0.3s ease;
        }

        @keyframes fadeInOverlay {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* MODAL */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.65);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            backdrop-filter: blur(4px);
        }

        .modal.active {
            display: flex;
            animation: fadeIn 0.3s ease;
        }

        .modal-content {
            background: var(--card-bg);
            color: var(--text-primary);
            padding: 2rem;
            border-radius: 16px;
            max-width: 520px;
            width: 90%;
            max-height: 85vh;
            overflow-y: auto;
            box-shadow: var(--shadow-lg);
            animation: slideUp 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        @keyframes slideUp {
            from { opacity: 0; transform: translateY(30px) scale(0.95); }
            to { opacity: 1; transform: translateY(0) scale(1); }
        }

        .modal-header {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 1rem;
            color: var(--accent-color);
            letter-spacing: -0.5px;
        }

        .modal-close {
            float: right;
            font-size: 1.8rem;
            cursor: pointer;
            color: var(--text-meta);
            transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
            line-height: 1;
        }

        .modal-close:hover {
            color: var(--text-primary);
            transform: rotate(90deg);
        }

        .setting-item {
            padding: 1rem 0;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: 500;
        }

        .language-selector {
            background: var(--card-bg);
            color: var(--text-primary);
            border: 1.5px solid var(--border-color);
            padding: 0.5rem 0.8rem;
            border-radius: 8px;
            font-size: 0.9rem;
            font-weight: 500;
            cursor: pointer;
            outline: none;
            width: 140px;
            transition: all 0.25s ease;
        }

        .language-selector:hover {
            border-color: var(--accent-color);
        }

        .switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 26px;
        }

        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #d1d5db;
            transition: 0.35s cubic-bezier(0.4, 0, 0.2, 1);
            border-radius: 26px;
        }

        .slider::before {
            position: absolute;
            content: "";
            height: 20px;
            width: 20px;
            left: 3px;
            bottom: 3px;
            background-color: white;
            transition: 0.35s cubic-bezier(0.4, 0, 0.2, 1);
            border-radius: 50%;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }

        input:checked + .slider {
            background-color: var(--accent-color);
        }

        input:checked + .slider::before {
            transform: translateX(24px);
        }

        /* SECURE CONTACT REVEAL */
        .reveal-btn {
            background: linear-gradient(135deg, var(--accent-color), var(--header-gradient-2));
            color: white;
            border: none;
            padding: 0.6rem 1.2rem;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .reveal-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4);
        }

        .reveal-btn:active {
            transform: translateY(0);
        }

        .contact-info {
            display: none;
            margin-top: 0.5rem;
            padding: 0.8rem;
            background: var(--bg-color);
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            word-break: break-all;
        }

        /* RESPONSIVE */
        @media (max-width: 768px) {
            h1 { font-size: 1.4rem; }
            .section-header { font-size: 1.2rem; }
            .news-title { font-size: 1.05rem; }
            .reel-title { font-size: 1.2rem; }
        }

        /* UTILITY CLASSES */
        .text-center { text-align: center; }
        .mt-2 { margin-top: 2rem; }
        .hidden { display: none !important; }
    </style>
        </head>
        <body>
    <!-- PROFESSIONAL LOADING SCREEN -->
    <div class="loading-screen" id="loadingScreen">
        <img src="image-2.png" alt="Updates Logo" class="loading-logo" onerror="this.style.display='none'">
        <div class="loading-spinner"></div>
        <div class="loading-text">Loading Latest News</div>
        <div class="loading-subtext">Fetching top stories from 5 sources...</div>
        <div class="loading-progress">
            <div class="loading-progress-bar"></div>
        </div>
    </div>

    <!-- HEADER -->
    <header>
        <div class="header-left">
            <button class="menu-btn" id="menuBtn" aria-label="Menu">‚ò∞</button>
        </div>
        <div class="header-center">
            <img src="image-2.png" alt="Logo" class="logo" onerror="this.style.display='none'">
            <h1>Updates</h1>
        </div>
        <div></div>
    </header>

    <!-- SIDEBAR -->
    <div class="sidebar" id="sidebar">
        <div class="sidebar-header">Menu</div>
        <ul class="sidebar-menu">
            <li><a href="#" data-action="about">About</a></li>
            <li><a href="#" data-action="settings">Settings</a></li>
            <li><a href="#" data-action="help">Help & Support</a></li>
            <li><a href="#" data-action="refresh">Refresh News</a></li>
        </ul>
    </div>

    <!-- OVERLAY -->
    <div class="overlay" id="overlay"></div>

    <!-- PAGES -->
    <!-- HOME PAGE -->
    <div class="page active" id="homePage">
        <div class="card-list" id="homeNewsList">
            <!-- Shimmer loading effect -->
            <div class="shimmer-wrapper" id="shimmerLoader">
                <div class="shimmer-card">
                    <div class="shimmer shimmer-image"></div>
                    <div class="shimmer shimmer-title"></div>
                    <div class="shimmer shimmer-text"></div>
                    <div class="shimmer shimmer-text short"></div>
                </div>
                <div class="shimmer-card">
                    <div class="shimmer shimmer-image"></div>
                    <div class="shimmer shimmer-title"></div>
                    <div class="shimmer shimmer-text"></div>
                    <div class="shimmer shimmer-text short"></div>
                </div>
                <div class="shimmer-card">
                    <div class="shimmer shimmer-image"></div>
                    <div class="shimmer shimmer-title"></div>
                    <div class="shimmer shimmer-text"></div>
                    <div class="shimmer shimmer-text short"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- SEARCH PAGE (NEW!) -->
    <div class="page" id="searchPage">
        <div class="search-container">
            <div class="search-box">
                <input type="text" class="search-input" id="searchInput" placeholder="Search news articles, topics...">
                <button class="search-btn" id="searchBtn">üîç</button>
            </div>
            <div class="card-list" id="searchResults"></div>
        </div>
    </div>

    <!-- QUICK NEWS PAGE (REELS) -->
    <div class="page" id="quickPage">
        <div class="reels-container" id="reelsContainer"></div>
        <button class="scroll-up-btn" id="scrollUpBtn" aria-label="Previous">‚Üë</button>
    </div>

    <!-- HEADLINES PAGE -->
    <div class="page" id="headlinesPage">
        <div class="card-list" id="headlinesNewsList"></div>
    </div>

    <!-- BOTTOM NAVIGATION (üè† üîç ‚ö° üì∞) -->
    <nav class="bottom-nav">
        <a href="#" class="nav-item active" data-page="homePage">
            <span class="nav-icon">üè†</span>
            <span class="nav-label">Home</span>
        </a>
        <a href="#" class="nav-item" data-page="searchPage">
            <span class="nav-icon">üîç</span>
            <span class="nav-label">Search</span>
        </a>
        <a href="#" class="nav-item" data-page="quickPage">
            <span class="nav-icon">‚ö°</span>
            <span class="nav-label">Quick</span>
        </a>
        <a href="#" class="nav-item" data-page="headlinesPage">
            <span class="nav-icon">üì∞</span>
            <span class="nav-label">Headlines</span>
        </a>
    </nav>

    <!-- MODALS -->
    <!-- ABOUT MODAL -->
    <div class="modal" id="aboutModal">
        <div class="modal-content">
            <span class="modal-close" data-close="aboutModal">‚úï</span>
            <div class="modal-header">About Updates</div>
            <p><strong>Updates</strong> is a comprehensive news aggregator providing latest news from India and around the world in multiple languages.</p>
            <br>
            <p><strong>Version:</strong> 2.0.0</p>
            <p><strong>Developer:</strong> VIC Team</p>
            <br>
            <p><strong>News Sources:</strong></p>
            <ul style="padding-left: 1.5rem; margin-top: 0.5rem;">
                <li>NewsAPI</li>
                <li>NewsData.io</li>
                <li>GNews</li>
                <li>Currents API</li>
                <li>World News API</li>
            </ul>
            <br>
            <p>Now with 5 news sources and smart caching!</p>
        </div>
    </div>

    <!-- SETTINGS MODAL -->
    <div class="modal" id="settingsModal">
        <div class="modal-content">
            <span class="modal-close" data-close="settingsModal">‚úï</span>
            <div class="modal-header">Settings</div>
            <div class="setting-item">
                <span>Language</span>
                <select class="language-selector" id="languageSelect">
                    <option value="en">English</option>
                    <option value="hi">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</option>
                    <option value="es">Espa√±ol</option>
                    <option value="fr">Fran√ßais</option>
                    <option value="de">Deutsch</option>
                </select>
            </div>
            <div class="setting-item">
                <span>Dark Mode</span>
                <label class="switch">
                    <input type="checkbox" id="darkModeToggle">
                    <span class="slider"></span>
                </label>
            </div>
        </div>
    </div>

    <!-- HELP MODAL -->
    <div class="modal" id="helpModal">
        <div class="modal-content">
            <span class="modal-close" data-close="helpModal">‚úï</span>
            <div class="modal-header">Help & Support</div>
            <p><strong>Need help?</strong> Contact us</p>
            <br>
            <div class="setting-item" style="flex-direction: column; align-items: flex-start;">
                <span><strong>Email:</strong></span>
                <button class="reveal-btn" onclick="revealContact('email')">Click to reveal email</button>
                <div class="contact-info" id="emailInfo"></div>
            </div>
            <div class="setting-item" style="flex-direction: column; align-items: flex-start;">
                <span><strong>Phone:</strong></span>
                <button class="reveal-btn" onclick="revealContact('phone')">Click to reveal phone</button>
                <div class="contact-info" id="phoneInfo"></div>
            </div>
            <br>
            <p><strong>FAQ</strong></p>
            <ul style="padding-left: 1.5rem; margin-top: 0.5rem; line-height: 1.8;">
                <li><strong>Q: How often is news updated?</strong><br>A: Every 30 minutes automatically.</li>
                <li><strong>Q: Can I change language?</strong><br>A: Yes, go to Settings.</li>
                <li><strong>Q: Is my data safe?</strong><br>A: Yes, we don't collect any personal data.</li>
            </ul>
        </div>
    </div>

    <script>
        // ===================================
        // SECURITY CONFIGURATION
        // ===================================
        const CONFIG = {
            BACKEND_URL: 'https://news-api-proxy-secure.onrender.com',
            CACHE_DURATION: 30 * 60 * 1000, // 30 minutes
            CACHE_KEY: 'newsCachev2',
            CACHE_TIMESTAMP_KEY: 'newsCacheTimestampv2',
            TOP_HEADLINES_COUNT: 10 // EXACTLY 10 HEADLINES
        };

        // XSS Protection - Sanitize HTML
        function sanitizeHTML(str) {
            const div = document.createElement('div');
            div.textContent = str;
            return div.innerHTML;
        }

        // Decrypt contact info (Base64)
        function revealContact(type) {
            const infoDiv = document.getElementById(type + 'Info');
            if (infoDiv.style.display === 'block') {
                infoDiv.style.display = 'none';
                return;
            }
            
            try {
                const encrypted = {
                    email: 'c2FtcGxlLmV4YW1wbGVAZ21haWwuY29t', // Base64 encoded
                    phone: 'KzkxIDk5OTk5OTk5OTk=' // Base64 encoded
                }[type];
                const decrypted = atob(encrypted);
                infoDiv.textContent = decrypted;
                infoDiv.style.display = 'block';
            } catch (e) {
                infoDiv.textContent = 'Error decrypting contact info';
                infoDiv.style.display = 'block';
            }
        }

        // ===================================
        // SMART CACHE MANAGEMENT
        // ===================================
        class NewsCache {
            static save(data) {
                try {
                    localStorage.setItem(CONFIG.CACHE_KEY, JSON.stringify(data));
                    localStorage.setItem(CONFIG.CACHE_TIMESTAMP_KEY, Date.now().toString());
                    console.log('News cached successfully');
                } catch (e) {
                    console.warn('Failed to cache news:', e);
                }
            }

            static load() {
                try {
                    const timestamp = parseInt(localStorage.getItem(CONFIG.CACHE_TIMESTAMP_KEY) || '0');
                    const age = Date.now() - timestamp;
                    
                    if (age > CONFIG.CACHE_DURATION) {
                        console.log('Cache expired');
                        return null;
                    }
                    
                    const data = localStorage.getItem(CONFIG.CACHE_KEY);
                    if (data) {
                        console.log(`Loaded from cache (${Math.round(age / 1000)}s old)`);
                        return JSON.parse(data);
                    }
                } catch (e) {
                    console.warn('Failed to load cache:', e);
                }
                return null;
            }

            static clear() {
                localStorage.removeItem(CONFIG.CACHE_KEY);
                localStorage.removeItem(CONFIG.CACHE_TIMESTAMP_KEY);
                console.log('Cache cleared');
            }

            static getAge() {
                const timestamp = parseInt(localStorage.getItem(CONFIG.CACHE_TIMESTAMP_KEY) || '0');
                return Date.now() - timestamp;
            }
        }

        // ===================================
        // NEWS FETCHING WITH FALLBACK
        // ===================================
        async function fetchNewsWithFallback() {
            const language = localStorage.getItem('selectedLanguage') || 'en';
            
            // Try to load from cache first
            const cachedNews = NewsCache.load();
            if (cachedNews && cachedNews.length > 0) {
                console.log('Using cached news');
                return cachedNews;
            }

            // Fetch from backend
            try {
                console.log('Fetching fresh news from backend...');
                const newsFromBackend = await fetchAllNews(language);
                if (newsFromBackend && newsFromBackend.length > 0) {
                    NewsCache.save(newsFromBackend);
                    return newsFromBackend;
                }
            } catch (error) {
                console.error('Backend fetch failed:', error);
            }

            // Fallback to old cache (even if expired)
            try {
                const oldCache = localStorage.getItem(CONFIG.CACHE_KEY);
                if (oldCache) {
                    console.log('Using expired cache as fallback');
                    showNotification('Showing cached news (backend unavailable)', 'warning');
                    return JSON.parse(oldCache);
                }
            } catch (e) {
                console.error('Failed to load old cache:', e);
            }

            // No news available
            throw new Error('No news available (backend down, no cache)');
        }

        async function fetchAllNews(language = 'en') {
            const country = 'in';
            const allArticles = [];
            const apis = [
                { url: `/api/newsapi?country=${country}&language=${language}`, key: 'articles' },
                { url: `/api/newsdata?country=${country}&language=${language}`, key: 'results' },
                { url: `/api/gnews?country=${country}&lang=${language}`, key: 'articles' },
                { url: `/api/currents?country=${country}&language=${language}`, key: 'news' },
                { url: `/api/worldnews?language=${language}`, key: 'news' }
            ];

            for (const api of apis) {
                try {
                    const response = await fetch(`${CONFIG.BACKEND_URL}${api.url}`, {
                        method: 'GET',
                        headers: { 'Accept': 'application/json' },
                        signal: AbortSignal.timeout(15000)
                    });

                    if (!response.ok) {
                        console.warn(`API ${api.url} failed with status: ${response.status}`);
                        continue;
                    }

                    const data = await response.json();
                    const articles = data[api.key];
                    
                    if (Array.isArray(articles) && articles.length > 0) {
                        allArticles.push(...articles);
                        console.log(`Fetched ${articles.length} articles from ${api.url}`);
                    }
                } catch (error) {
                    console.error(`Error fetching from ${api.url}:`, error.message);
                }
            }

            return allArticles.filter(article => 
                article.title && 
                (article.source?.name || article.title)
            );
        }

        // ===================================
        // UI RENDERING
        // ===================================
        function renderNewsCard(article, index) {
            const title = sanitizeHTML(article.title || article.name || 'No title');
            const description = sanitizeHTML(article.description || article.content || 'No description available');
            const imageUrl = article.image || article.urlToImage || article.imageurl || 'https://via.placeholder.com/400x200?text=No+Image';
            const url = article.url || article.link;
            const source = sanitizeHTML(article.source?.name || article.sourcename || 'Unknown');
            const publishedAt = article.publishedAt || article.pubDate || article.publisheddate || new Date().toISOString();
            const timeAgo = getTimeAgo(publishedAt);
            const category = article.category?.[0] || article.categories?.[0] || 'General';

            return `
                <div class="news-card" onclick="window.open('${url}', '_blank')">
                    <img src="${imageUrl}" alt="${title}" class="news-image" onerror="this.src='https://via.placeholder.com/400x200?text=No+Image'">
                    <div class="news-title">${title}</div>
                    <div class="news-summary">${description.substring(0, 150)}${description.length > 150 ? '...' : ''}</div>
                    <div class="news-meta">
                        <span>${source} ‚Ä¢ ${timeAgo}</span>
                        <span class="category-tag">${category}</span>
                    </div>
                </div>
            `;
        }

        function renderReel(article, index) {
            const title = sanitizeHTML(article.title || article.name || 'No title');
            const content = sanitizeHTML(article.description || article.content || 'No description available');
            const imageUrl = article.image || article.urlToImage || article.imageurl || 'https://via.placeholder.com/400x300?text=No+Image';
            const url = article.url || article.link;
            const source = sanitizeHTML(article.source?.name || article.sourcename || 'Unknown');
            const publishedAt = article.publishedAt || article.pubDate || article.publisheddate || new Date().toISOString();
            const timeAgo = getTimeAgo(publishedAt);

            return `
                <a href="${url}" target="_blank" class="reel ${index === 0 ? 'active' : ''}" data-index="${index}">
                    <img src="${imageUrl}" alt="${title}" class="reel-image" onerror="this.src='https://via.placeholder.com/400x300?text=No+Image'">
                    <div class="reel-title">${title}</div>
                    <div class="reel-content">${content}</div>
                    <div class="reel-meta">${source} ‚Ä¢ ${timeAgo}</div>
                </a>
            `;
        }

        function getTimeAgo(dateString) {
            const date = new Date(dateString);
            const now = new Date();
            const seconds = Math.floor((now - date) / 1000);

            const intervals = {
                year: 31536000,
                month: 2592000,
                week: 604800,
                day: 86400,
                hour: 3600,
                minute: 60
            };

            for (const [unit, secondsInUnit] of Object.entries(intervals)) {
                const interval = Math.floor(seconds / secondsInUnit);
                if (interval >= 1) {
                    return `${interval} ${unit}${interval === 1 ? '' : 's'} ago`;
                }
            }
            return 'Just now';
        }

        function showNotification(message, type = 'info') {
            // Simple notification (you can enhance this)
            console.log(`${type.toUpperCase()}: ${message}`);
        }

        // ===================================
        // INITIALIZE APP
        // ===================================
        let allNewsArticles = [];
        let currentReelIndex = 0;

        async function initializeApp() {
            try {
                // Show loading screen
                document.getElementById('loadingScreen').classList.remove('hidden');

                // Fetch news with fallback
                allNewsArticles = await fetchNewsWithFallback();

                if (allNewsArticles.length === 0) {
                    throw new Error('No news articles available');
                }

                console.log(`Total articles: ${allNewsArticles.length}`);

                // Sort by date (most recent first)
                allNewsArticles.sort((a, b) => {
                    const dateA = new Date(a.publishedAt || a.pubDate || a.publisheddate || 0);
                    const dateB = new Date(b.publishedAt || b.pubDate || b.publisheddate || 0);
                    return dateB - dateA;
                });

                // Render different sections
                renderHomePage();
                renderHeadlinesPage();
                renderQuickNewsPage();
                setupSearch();

                // Hide loading screen
                setTimeout(() => {
                    document.getElementById('loadingScreen').classList.add('hidden');
                    document.getElementById('shimmerLoader').style.display = 'none';
                }, 500);

            } catch (error) {
                console.error('Failed to initialize app:', error);
                document.getElementById('loadingScreen').innerHTML = `
                    <div style="text-align: center; padding: 2rem;">
                        <h2 style="color: var(--text-primary); margin-bottom: 1rem;">Unable to load news</h2>
                        <p style="color: var(--text-meta); margin-bottom: 1.5rem;">Please check your connection and try again.</p>
                        <button onclick="location.reload()" class="reveal-btn">Retry</button>
                    </div>
                `;
            }
        }

        // FIXED: Home shows 20 articles
        function renderHomePage() {
            const homeList = document.getElementById('homeNewsList');
            homeList.innerHTML = allNewsArticles.slice(0, 20).map((article, index) => 
                renderNewsCard(article, index)
            ).join('');
        }

        // FIXED: Headlines shows EXACTLY 10 articles
        function renderHeadlinesPage() {
            const headlinesList = document.getElementById('headlinesNewsList');
            const topNews = allNewsArticles.slice(0, CONFIG.TOP_HEADLINES_COUNT);
            headlinesList.innerHTML = `
                <h2 class="section-header">Top Headlines <span class="section-badge">TOP ${CONFIG.TOP_HEADLINES_COUNT}</span></h2>
                ${topNews.map((article, index) => renderNewsCard(article, index)).join('')}
            `;
            console.log(`Headlines: Showing exactly ${topNews.length} articles`);
        }

        // FIXED: Quick News shows articles from 11 onwards
        function renderQuickNewsPage() {
            const reelsContainer = document.getElementById('reelsContainer');
            const quickNewsArticles = allNewsArticles.slice(CONFIG.TOP_HEADLINES_COUNT, CONFIG.TOP_HEADLINES_COUNT + 40);
            
            reelsContainer.innerHTML = quickNewsArticles.map((article, index) => 
                renderReel(article, index)
            ).join('');

            // Add indicator dots
            const indicators = `
                <div class="reel-indicator">
                    ${quickNewsArticles.map((_, i) => 
                        `<div class="indicator-dot ${i === 0 ? 'active' : ''}" data-index="${i}"></div>`
                    ).join('')}
                </div>
            `;
            reelsContainer.insertAdjacentHTML('beforeend', indicators);

            console.log(`Quick News: Showing ${quickNewsArticles.length} articles from ${CONFIG.TOP_HEADLINES_COUNT + 1}`);
            setupReelsNavigation();
        }

        // ===================================
        // SEARCH FUNCTIONALITY (NEW!)
        // ===================================
        function setupSearch() {
            const searchBtn = document.getElementById('searchBtn');
            const searchInput = document.getElementById('searchInput');

            searchBtn.addEventListener('click', performSearch);
            searchInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') performSearch();
            });
        }

        function performSearch() {
            const query = document.getElementById('searchInput').value.trim().toLowerCase();
            const resultsContainer = document.getElementById('searchResults');

            if (!query) {
                resultsContainer.innerHTML = '<p style="text-align: center; color: var(--text-meta);">Enter a search term...</p>';
                return;
            }

            const filtered = allNewsArticles.filter(article => 
                article.title?.toLowerCase().includes(query) ||
                article.description?.toLowerCase().includes(query)
            );

            if (filtered.length === 0) {
                resultsContainer.innerHTML = '<p style="text-align: center; color: var(--text-meta);">No results found</p>';
            } else {
                resultsContainer.innerHTML = `
                    <h2 class="section-header">Search Results (${filtered.length})</h2>
                    ${filtered.slice(0, 20).map((article, index) => renderNewsCard(article, index)).join('')}
                `;
            }
        }

        // ===================================
        // REELS NAVIGATION
        // ===================================
        function setupReelsNavigation() {
            const container = document.getElementById('reelsContainer');
            const scrollUpBtn = document.getElementById('scrollUpBtn');
            let startY = 0;
            let isDragging = false;

            container.addEventListener('touchstart', (e) => {
                startY = e.touches[0].clientY;
                isDragging = true;
            });

            container.addEventListener('touchmove', (e) => {
                if (!isDragging) return;
                const currentY = e.touches[0].clientY;
                const diff = startY - currentY;

                if (Math.abs(diff) > 50) {
                    const maxReels = container.querySelectorAll('.reel').length;
                    if (diff > 0 && currentReelIndex < maxReels - 1) {
                        navigateReel(1);
                    } else if (diff < 0 && currentReelIndex > 0) {
                        navigateReel(-1);
                    }
                    isDragging = false;
                }
            });

            container.addEventListener('touchend', () => {
                isDragging = false;
            });

            // Scroll up button
            scrollUpBtn.addEventListener('click', () => {
                if (currentReelIndex > 0) {
                    navigateReel(-1);
                }
            });

            // Show/hide scroll up button
            function updateScrollUpButton() {
                if (currentReelIndex > 0) {
                    scrollUpBtn.classList.add('visible');
                } else {
                    scrollUpBtn.classList.remove('visible');
                }
            }

            window.navigateReel = function(direction) {
                const reels = document.querySelectorAll('.reel');
                const indicators = document.querySelectorAll('.indicator-dot');
                
                reels[currentReelIndex]?.classList.remove('active');
                indicators[currentReelIndex]?.classList.remove('active');

                currentReelIndex += direction;
                currentReelIndex = Math.max(0, Math.min(currentReelIndex, reels.length - 1));

                reels[currentReelIndex]?.classList.add('active');
                indicators[currentReelIndex]?.classList.add('active');
                
                updateScrollUpButton();
            };
        }

        // ===================================
        // UI INTERACTIONS
        // ===================================
        // Sidebar toggle
        document.getElementById('menuBtn').addEventListener('click', () => {
            document.getElementById('sidebar').classList.toggle('open');
            document.getElementById('overlay').classList.toggle('active');
        });

        document.getElementById('overlay').addEventListener('click', () => {
            document.getElementById('sidebar').classList.remove('open');
            document.getElementById('overlay').classList.remove('active');
        });

        // Sidebar actions
        document.querySelectorAll('[data-action]').forEach(btn => {
            btn.addEventListener('click', (e) => {
                e.preventDefault();
                const action = btn.dataset.action;
                
                document.getElementById('sidebar').classList.remove('open');
                document.getElementById('overlay').classList.remove('active');

                if (action === 'about') {
                    document.getElementById('aboutModal').classList.add('active');
                } else if (action === 'settings') {
                    document.getElementById('settingsModal').classList.add('active');
                } else if (action === 'help') {
                    document.getElementById('helpModal').classList.add('active');
                } else if (action === 'refresh') {
                    NewsCache.clear();
                    location.reload();
                }
            });
        });

        // Modal close buttons
        document.querySelectorAll('[data-close]').forEach(btn => {
            btn.addEventListener('click', () => {
                document.getElementById(btn.dataset.close).classList.remove('active');
            });
        });

        // Close modal on outside click
        document.querySelectorAll('.modal').forEach(modal => {
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    modal.classList.remove('active');
                }
            });
        });

        // Page navigation
        document.querySelectorAll('[data-page]').forEach(navItem => {
            navItem.addEventListener('click', (e) => {
                e.preventDefault();
                const pageId = navItem.dataset.page;

                // Update active nav item
                document.querySelectorAll('.nav-item').forEach(item => {
                    item.classList.remove('active');
                });
                navItem.classList.add('active');

                // Show selected page
                document.querySelectorAll('.page').forEach(page => {
                    page.classList.remove('active');
                });
                document.getElementById(pageId).classList.add('active');

                // Reset reel index when entering quick page
                if (pageId === 'quickPage') {
                    currentReelIndex = 0;
                    navigateReel(0);
                }
            });
        });

        // Dark mode toggle
        const darkModeToggle = document.getElementById('darkModeToggle');
        const savedTheme = localStorage.getItem('theme') || 'light';
        
        if (savedTheme === 'dark') {
            document.documentElement.setAttribute('data-theme', 'dark');
            darkModeToggle.checked = true;
        }

        darkModeToggle.addEventListener('change', () => {
            if (darkModeToggle.checked) {
                document.documentElement.setAttribute('data-theme', 'dark');
                localStorage.setItem('theme', 'dark');
            } else {
                document.documentElement.removeAttribute('data-theme');
                localStorage.setItem('theme', 'light');
            }
        });

        // Language selector
        const languageSelect = document.getElementById('languageSelect');
        languageSelect.value = localStorage.getItem('selectedLanguage') || 'en';

        languageSelect.addEventListener('change', () => {
            localStorage.setItem('selectedLanguage', languageSelect.value);
            NewsCache.clear();
            location.reload();
        });

        // ===================================
        // START APP
        // ===================================
        initializeApp();

        // Auto-refresh every 30 minutes
        setInterval(() => {
            console.log('Auto-refreshing news...');
            NewsCache.clear();
            initializeApp();
        }, CONFIG.CACHE_DURATION);
    </script>
</body>
    </html>
